<!DOCTYPE html>
<html>
<head>
  <title>P2P-уведомления</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/styles.css" />
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').then(() => {
        // alert('Service Worker registered');
        console.log('Service Worker registered');
      }).catch(error => {
        // alert('Service Worker registration failed: ' + error);
        console.error('Service Worker registration failed', error);
      });
    }
  </script>
</head>
<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div class="container">
    <div class="header">
      <h1>P2P Notificator</h1>
      <div id="connection-status" class="connection-status">Connected</div>
    </div>
    <div>
      <h2 id="my-id">Your ID for this session: </h2>
      <h2 id="input-name">Message:</h2>
      <textarea id="message-input" placeholder="Type here"></textarea>
      <button id="send-button">Send Message</button>
      <button id="request-button">Send Book Request</button>
    </div>

    <div>
      <h2>Responses</h2>
      <div id="messages"></div>
    </div>

    <div>
      <h2>Instructions:</h2>
      <p>It is a PWA, so if you are using iPhone - Set the site on your home screen: click "Share" → "Add to Home Screen"</p>
      <h3>Disclaimer</h3>
      <p>The Application is provided on an “as is” and “as available” basis. The developer makes no representations or warranties of any kind, express or implied, as to the operation of the Application, or the information, content, or materials included therein. You expressly agree that your use of the Application is at your sole risk.

        To the fullest extent permitted by law, the developer disclaims all warranties, express or implied, including, but not limited to, implied warranties of merchantability and fitness for a particular purpose. The developer does not warrant that the Application, its servers, or any content provided through the Application are free of viruses or other harmful components.
        
        In no event shall the developer be liable for any damages arising from the use of the Application, including but not limited to direct, indirect, incidental, punitive, and consequential damages.
        
        Use of the Application is at your own discretion and risk, and you are solely responsible for any damage to your device or loss of data that results from the use of the Application.</p>
    </div>
  </div>

  <script src="/config.js" type="module"></script>
  <script src="/ui.js" type="module"></script>
  <script src="/app.js" type="module"></script>
</body>
</html>